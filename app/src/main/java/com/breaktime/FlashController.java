package com.breaktime;import android.hardware.Camera;import android.os.Handler;import android.util.Log;/** * Created by Patrick on 11/24/2014. */public class FlashController {    static Camera cam = null;    public static void flash(int millis){        try {            cam = Camera.open();        }catch(Exception e){            //Camera fucked up            return;        }        if (cam == null) {            Log.w("FlashController", "No camera present");            return;        }        Camera.Parameters p = cam.getParameters();        p.setFlashMode(Camera.Parameters.FLASH_MODE_TORCH);        cam.setParameters(p);        cam.startPreview();        Log.v("FlashController", "Flash fired.");        Handler h = new Handler();        h.postDelayed(new Runnable() {            @Override            public void run() {                cam.stopPreview();                cam.release();                Log.v("FlashController", "Flash stopped.");            }        }, millis);    }}